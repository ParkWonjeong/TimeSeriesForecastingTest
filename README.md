# 비트코인 가격 예측 및 트레이딩 전략 보고서 📈💰
## 비즈니스딥러닝 프로젝트
**박원정**
**202001496**

본 보고서는 딥러닝 모델을 활용한 비트코인 가격 예측 및 이를 기반으로 한 트레이딩 전략(Smart Swing v4)의 설계, 구현, 및 성과 분석 내용을 담고 있습니다.

## 1️⃣ 모델 설계 및 훈련 (Model Design & Training) 📈

### 1.1 모델 아키텍처: GRU (Gated Recurrent Unit)
비트코인의 일일 가격 데이터와 같은 시계열 데이터의 시간적 의존성을 학습하기 위해 **GRU** 모델을 선택했습니다.
- **선택 이유**:
   - LSTM보다 구조가 간단해서 적은 데이터로도 학습이 잘 되기 때문에 과적합을 가능한한 최소화하기 위해 선택했습니다.
   - 학습 속도가 비교적 빠르며 파라미터 수가 적어 다양한 설정값을 적용해보며 실험해보기 좋기에 선택했습니다.

- **하이퍼파라미터**:
   - hidden_size: 32
   - learning_rate: 0.001
   - threshold: 0.465
   - position_scaling: False 

- **예제와의 차별점**:
   - 예제에서는 단순히 예측 확률만 보고 매매했지만, 저는 이동평균선을 활용하는 전략적 지표를 결합하여 금융 시장이라는 단순 확률에 따른 문제보다 더 복잡한 문제 상황에서 더욱 효과적인 예측을 할 수 있었습니다. 또한 '15% 익절 / -2% 손절'이라는 명확한 원칙을 세워 안정성을 극대화했습니다.

### 1.2 훈련 과정 (Training Process)
- **손실 함수 (Loss Function)**: 이진 분류를 위한 CrossEntropyLoss (또는 BCELoss).
- **옵티마이저 (Optimizer)**: Adam (학습률 0.0001).
- **과적합 방지 전략**:
    - **Early Stopping**: 검증 손실(Validation Loss)이 10회 이상 개선되지 않으면 학습 조기 종료. (patience 값 조정)
    - **Learning Rate**: 학습률을 조정하는 시도

---

## 2️⃣ 투자 전략 설계 및 적용 (Investment Strategy) 🚀

단순히 모델의 예측값만 따르는 것이 아니라, 기술적 지표를 결합하여 승률을 높이고 리스크를 관리하는 **Smart Swing v4** 전략을 설계했습니다.   
(Gemini가 추천한 이름으로, 스윙 트레이딩 형식의 알고리즘이며 네 번째 버전입니다.)

### 2.1 전략 개요: Hybrid Approach (AI + Technical Analysis)
딥러닝 모델은 "방향성"을 제시하고, 기술적 지표는 "진입 타이밍"과 "리스크 필터링"을 담당합니다.

### 2.2 핵심 전략 요소
1.  **이동평균선(MA)**: 5일 이동평균선과 20일 이동평균선을 사용하여 5일선이 20일선을 넘는다면 상승하는 추세이며, 20일선이 5일선을 넘는 경우 하락하는 추세라는 기본적인 이동평균선 전략을 사용하였습니다. 굉장히 기초적이며 완벽히 들어맞지는 않지만 상승세와 하락세를 파악하기에는 제 경험상 상당히 효과적이라고 생각했기에 선택하여 적용해보았습니다.
2.  **수익률 임계값 설정**: 15%라면 상당히 높은 편의 이익이라고 할 수 있지만 개인적으로 비트코인이라는 변동이 큰 자산의 특성상 충분히 자주 발생할 수 있는 수익률이라고 생각했습니다. 나아가 -2%는 제가 흔히들 이야기하는 '수강료'로 생각하는 최고 임계값입니다. 그렇기에 제 경험상 효과적이라고 생각혔던 두 가지 임계값을 설정하여 안정성을 높이고자 하였습니다.

---

## 3️⃣ 벤치마크 비교 및 분석 (Benchmark Analysis) 📚

### 3.1 비교 대상 (Benchmarks)
1.  **Buy and Hold**: 기간 내내 비트코인을 보유하는 전략. (시장 수익률)
2.  **Simple Probability Strategy**: 확률에 기반하여 분할 매수하는 전략.

### 3.2 결론 및 고찰
- **수익률 비교**
    - **Buy and Hold**: -2.89%
    - **Example Model**: -1.25%
    - **My Model**: +16.88%

    ![alt text](image.png)

- **성과 분석 내용**


  
  1. **모델 성능 분석**
     
    
       - Buy and Hold 대비 수익률: 벤치마크의 수익률 보다 <u>19.77%</u> 높은 수익률을 기록했습니다.( -2.89% (Buy and Hold 손실) vs 16.88% (모델 수익))
       - 모델 예측 정확도: 학습 정확도는 51.6 퍼센트입니다.  
        모델의 정확도이 높다고 해서 무조건 수익률이 높지는 않다는 것은 알았지만, 그럼에도 정확도를 올리기 위해 학습층을 높이거나 모델을 복잡하게 변경하는 시도를 해보았지만 정확도를 높이자 오히려 재현율이 점점 떨어지며 수익률이 상당히 낮아졌습니다.   
        따라서 어느 정도의 정확도를 유지하면서도 재현율을 갖는 적절한 임계값을 설정한 후 전략을 통해 전반적인 수익률을 높이는 방향으로 설정하였습니다.
       - 주요 성공/실패 시기: 2025년 5월~7월 상승장에서 이동평균선 전략을 기반으로 함께 진입하여 큰 수익을 냈고, 10월 이후 하락장에서는 현금으로 매도하여 손실을 줄였습니다.
         
     
      
  2. **트레이딩 전략 분석**
         
           
       - 선택한 전략: 이동평균선 기반 전략 및 15% 익절 / -2% 손절
        - 이동평균선의 경우에는 5일선과 20일선을 사용하여 5일선이 20일선을 넘는다면 상승하는 추세이며, 20일선이 5일선을 넘는 경우 하락하는 추세라는 기본적인 이동평균선 전략을 사용하였습니다. 굉장히 기초적이며 완벽히 들어맞지는 않지만 어느 정도 효과가 있다고 생각하여 제가 직접 주식 투자 당시에 사용했던대로 적용해보았습니다. 
          익절과 손절의 경우, 15%라면 상당히 높은 편의 이익이라고 할 수 있지만 개인적으로 비트코인이라는 변동이 큰 자산의 특성상 충분히 자주 발생할 수 있는 수익률이라고 생각했습니다. 나아가 -2%는 제가 흔히들 이야기하는 '수강료'로 생각하는 임계값입니다. 따라서 이번 전략에서 두 임계값을 사용하여 수익률의 안정성을 높이고자 했습니다.
        - 전략의 장단점: 장점은 상승과 하락의 추세의 초입을 잡을 수 있다는 점과, 하락장에서는 아예 매매를 쉬어 자산을 지킬 수 있다는 점입니다. 다만 횡보장에서는 신호가 늦게 나올 수 있다는 단점이 있습니다. 
        - 수수료 영향: 불필요한 매매를 줄이고 확실한 자리에서만 매매하여 수수료 비용을 아낄 수 있도록 하였습니다. 이번 테스트에서의 경우도 22회만 매매를 하였습니다.
     

    3. **모델 설계**
       
         
       - 아키텍처 선택 이유: 데이터가 적은 현재 비트코인 시계열 데이터 특성상 LSTM보다 파라미터가 적은 GRU가 유리하다고 판단했습니다.
       - 하이퍼파라미터 튜닝: 과적합 방지를 위해 Hidden Size를 64에서 32로 줄이고, Layer를 1로 줄였습니다. 하지만 정확도를 높이기 위해 Hidden Size의 값과 Layer의 수를 조절한 결과 오히려 재현율이 점점 떨어졌습니다. 따라서 어느 정도 정확도를 유지하면서도 재현율을 갖는 적절한 임계값을 설정한 후 전략을 통해 전반적인 수익률을 높이는 방향으로 설정하였습니다.
       또한 과적합을 방지하기 위해 Early Stopping을 강화하기 위해 patience 값을 낮추었고, 학습률도 낮춰보며 테스트를 진행하였습니다. 결과적으로 기존에 비해 patience 값을 낮추어 정확도를 높이는 효과를 얻을 수 있었습니다.
       - 예제 모델과의 차이점: 예제 모델에 비해 GRU를 사용하여 파라미터를 줄였고, Early Stopping을 강화하여 과적합을 최대한 약화하고자 하였습니다.


    4. **과정 복기 및 개선 방향**
       
       
       결과적으로 반복하여 테스트한 경우에도 수익률이 Buy and Hold 벤치마크에 비해 높게 나오는 것을 확인할 수 있었습니다.     
       하지만 이 과정에서 아직은 부족한 모습을 많이 확인하여 이를 개선하기 위한 추가적인 프로젝트를 진행 해보려고 합니다.  
    
       1. **모델의 한계와 전략적 보완**: 초기 모델 학습 과정에서 데이터 부족과 과적합 문제로 인해 단순 예측만으로는 높은 수익률을 달성하기 어려웠습니다. 이를 극복하기 위해 구조가 효율적인 GRU 모델을 채택하고, AI의 예측력을 기술적 지표(이동평균선) 및 리스크 관리 원칙(익절/손절)과 결합함으로써 시장 변동성에 대응할 수 있는 간단하지만 견고한 시스템을 구축했습니다.  
       
       2. **성과와 아쉬움**: 반복적인 테스트 결과,벤치마크 대비 우수한 성과를 거두었으나, 모델 자체의 예측 정확도를 획기적으로 개선하지 못한 점은 아쉬움으로 남습니다. 현재 적용된 전략은 개인적인 경험에 기반한 직관적인 방식이었기에, 향후에는 모델 최적화를 통해 더 고도화된 전략을 수용할 수 있는 유연성을 확보하고자 합니다.  
       
       3. **향후 연구 방향**: 단순한 시세 데이터를 넘어 실시간 데이터나 뉴스 감성 분석 등 다양한 비정형 데이터를 통합하여 모델의 완성도를 높이고 싶습니다. 이번 프로젝트를 계기로 시계열 데이터 기반의 퀀트 전략에 깊은 흥미를 느꼈으며, 앞으로 더 복잡하고 정교한 알고리즘 트레이딩 모델을 구현해 볼 계획입니다.  
